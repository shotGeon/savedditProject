<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/mystyle.css">

<script>
 proc1=()=>{
	
	 //입력
	 jumin=prompt("주민등록 번호를 입력해주세요");
	 //각 자릿수 추출
	 yy=jumin.substring(0,2);
	 mm=jumin.substring(2,4);
	 dd=jumin.substring(4,6);
	 
	 gend=jumin.substring(7,8);
	 
	 
	 //비교 -gend
	 //1,3-gender=남자
	 //2,4-gender=여자
	 if(parseInt(gend)==1||parseInt(gend)==3){
		 gender="남자";
	 }else{
		 gender="여자";
	 }
	 
	 //비교
	 //1,2 -year=1900
	 //3,4 -year=2000
	 if(parseInt(gend)==1||parseInt(gend)==2){
		 year=1900+parseInt(yy);
	 }else{
		 year=2000+parseInt(yy);
	 }
	 
	 //올해 년도 구하기
	 today = new Date(); 
	 toyear=today.getFullYear();
	 
	 age=toyear-parseInt(year);
	 
	 //출력 내용 작성
	 res="주민번호: "+jumin.substring(0,8)+"******<br>";
	 res+="생일: "+year+"년  "+mm+"월 "+dd+"일"+"<br>";
	 res+="성별: "+gender+"<br>";
	 res+="나이: "+age+"세"+"<br>";
	 
	 //출력
	 document.getElementById('result1').innerHTML=res;
 }
 
 function proc2(){
	 su="234567892345";
	 //입력 110213-4123456
	 jumin=prompt("주민번호를 입력해주세요");
	 
	 //-를 기준으로 분리->다시 합치기
	 code=jumin.replace("-","");
	 /* add1=jumin.substring(0,6);
	 add2=jumin.substring(7);
	 
	 fulladd=add1+add2; */
	 //alert(fulladd);
	 
	 //각 자리수별로 곱하기 후 더한다.
	 rs=0;
	 for(i=0; i<code.length; i++){
		rs+=su.substr(i,1)*code.substr(i,1); 
	 }
	 alert(rs);
	 
	 //11로 나눈 나머지를 구한 후 11로 뺀다.
	 rs2=rs%11;
	 rs3=11-rs2;
	 //결과값이 0~11 ->10=0, 11=1로 변경한다.(최종결과는 0~9까지 나온다.)
	 if(rs3==10){
		 rs3=0;
	 }else if(rs3==11){
		 rs3=1;
	 }
	 //최종결과와 주민번호 마지막 자리와 비교해서 같으면 진짜 틀리면 가짜
	 str="";
	 alert(rs3);
	 if(parseInt(rs3)==parseInt(jumin.charAt(13))){
		 alert("진짜");
		 str="진짜";
	 }else{
		 alert("가짜");
		 str="가짜";
	 }
	 document.getElementById('result2').innerHTML=str;
 }

</script>

</head>
<body>

  <div class="box">
    <h3>주민등록번호를 입력 받아 생년월일과 성별을 출력하는 프로그램을 작성</h3>
    예) 주민등록번호를 110326-4432618로 입력 받은 경우​<br>
    생일 : 2011년 3월 26일<br>​
    성별 : 여자<br>
    나이:<br>  
    <br>
    <br>
   <input type="button" value="확인" onclick="proc1()">
   <br><br>
   <div id="result1"></div>
  </div>

  <div class="box">
    <h3>주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는 프로그램을 작성하시오.(ABCDEF-GHIJKLM)</h3>
    1.A*2 + B*3 + ... + H*9 + I*2 + ... + L*5 의 총합을 구한다.​<br>
    2.1번의 합을 11로 나눈 나머지를 구한다.<br>​
    3.11에서 2번의 결과를 뺀다.<br>​
    4.3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환​<br>
    5.4번의 결과와 M자리의 값이 같으면 맞는 번호이다.​<br>  
     <br>
     <br>
    <input type="button" value="확인" onclick="proc2()">
    <br><br>
    <div id="result2"></div>
  </div>

</body>
</html>